# Leverage Browser Caching by SG-Optimizer
<IfModule mod_expires.c>
    ExpiresActive on
    ExpiresDefault                                      "access plus 6 months"
  # CSS
    ExpiresByType text/css                              "access plus 1 year"
  # JavaScript
    ExpiresByType application/javascript                "access plus 1 year"
    ExpiresByType application/x-javascript              "access plus 1 year"
  # Manifest files
    ExpiresByType application/x-web-app-manifest+json   "access plus 0 seconds"
    ExpiresByType text/cache-manifest                   "access plus 0 seconds"
  # Media
    ExpiresByType audio/ogg                             "access plus 1 year"
    ExpiresByType image/gif                             "access plus 1 year"
    ExpiresByType image/jpg                             "access plus 1 year"
    ExpiresByType image/jpeg                            "access plus 1 year"
    ExpiresByType image/png                             "access plus 1 year"
    ExpiresByType image/svg                             "access plus 1 year"
    ExpiresByType image/svg+xml                         "access plus 1 year"
    ExpiresByType video/mp4                             "access plus 1 year"
    ExpiresByType video/ogg                             "access plus 1 year"
    ExpiresByType video/webm                            "access plus 1 year"
    ExpiresByType image/x-icon                          "access plus 1 year"
    ExpiresByType application/pdf                       "access plus 1 year"
    ExpiresByType application/x-shockwave-flash         "access plus 1 year"
  # Web feeds
    ExpiresByType application/atom+xml                  "access plus 1 hour"
    ExpiresByType application/rss+xml                   "access plus 1 hour"
  # Web fonts
    ExpiresByType application/font-woff                 "access plus 1 year"
    ExpiresByType application/font-woff2                "access plus 1 year"
    ExpiresByType application/vnd.ms-fontobject         "access plus 1 year"
    ExpiresByType application/x-font-ttf                "access plus 1 year"
    ExpiresByType font/opentype                         "access plus 1 year"
</IfModule>
# END LBC
# BEGIN YOAST REDIRECTS
<IfModule mod_rewrite.c>
RewriteEngine On
Redirect 301 "/cfa/gallery-residency-program" "/cfa/gallery-visiting-program"
Redirect 301 "/cfa/2019/04/26/hasseb-ahmed-artist-luigi-russolo-rivolta" "/cfa/2019/04/26/haseeb-ahmed-artist-luigi-russolo-rivolta"
Redirect 301 "/cfa/2019/05/02/roman-stanczak-a-flight-from-venice" "/cfa/2019/05/02/roman-stanczak-flight-venice-biennale"
Redirect 301 "/cfa/gallery-visiting-program" "/cfa/gallery-visiting-programme"
Redirect 301 "/cfa/it/2019/09/15/the-free-work-of-karel-martens" "/cfa/it/2019/09/15/karel-martens-artista-graphic-designer"
Redirect 301 "/cfa/it/2019/09/23/mona-osman-artist" "/cfa/it/2019/09/23/mona-osman-artista-collezione-maramotti"
Redirect 301 "/cfa/2015/03/28/restoration-alchemy-jackson-pollock" "/cfa/2015/03/28/the-restoration-of-alchemy-reveals-the-truth-about-jackson-pollock"
Redirect 301 "/cfa/it/2019/06/04/orpheus-cycle-grechetto-milan" "/cfa/it/2019/06/04/sala-grechetto-milano"
Redirect 301 "/cfa/it/2019/05/30/zoe-williams-from-the-riva-tunnel-to-the-sunday-fantasy" "/cfa/it/2019/05/30/zoe-williams-artista-riva-tunnel-sunday-fantasy"
Redirect 301 "/cfa/it/2019/05/27/andrea-del-verrocchio-workshop-florence" "/cfa/it/2019/05/27/andrea-del-verrocchio-palazzo-strozzi"
Redirect 301 "/cfa/it/2015/03/28/the-restoration-of-alchemy-reveals-the-truth-about-jackson-pollock" "/cfa/2015/03/28/the-restoration-of-alchemy-reveals-the-truth-about-jackson-pollock"
Redirect 301 "/cfa/it/2018/11/14/jill-mulleady-artista-nue" "/cfa/it/2018/11/14/jill-mulleady"
Redirect 301 "/cfa/sitemap.xml" "/cfa/sitemap_index.xml"
Redirect 301 "/cfa/2017/03/12/who-is-lavinia-calza-a-first-time-interview-with-art-agent-who-is-shaping-kenyan-contemporary-art" "/cfa/2017/03/12/lavinia-calza-interview"
Redirect 301 "/cfa/2016/09/19/interview-cfa-meets-collector-michael-hilti-at-the-kunstmuseum-liechtenstein" "/cfa/2016/09/19/michael-hilti-interview-liechtenstein"
Redirect 301 "/cfa/2016/09/19/interview-cfa-meets-collector-" "/cfa/2016/09/19/michael-hilti-interview-liechtenstein"
Redirect 301 "/cfa/2016/06/07/berlin-biennale-2016-last-good" "/cfa/2016/06/07/berlin-biennale-2016-goodbye-post-internet-label"
Redirect 301 "/cfa/2014/01/20/a-dialogue-with-katja-novitskova" "/cfa/2017/09/29/katja-novitskova-interveiw"
Redirect 301 "/cfa/2017/06/19/lorenz-helbling-interview-chinese-contemporary-art-new-wave/feed" "/cfa/2017/06/19/lorenz-helbling-interview"
Redirect 301 "/cfa/2017/05/13/venice-biennale-2017-are-you-discovering-or-being-discovered-by-contemporary-art" "/cfa/2017/05/13/venice-biennale-2017"
Redirect 301 "/cfa/2015/03/03/focus-on-doha-a-dialogue-with-emin-balcioglu-the-meta-curator-who-is-behind-the-museums-blossoming" "/cfa/2015/03/03/emin-balcioglu-interview"
Redirect 301 "/cfa/2014/01/09/at-the-show-with-the-artist-diego-marcon-visits-felix-vallotton-at-grand-palais-in-paris" "/cfa/2014/01/09/diego-marcon"
Redirect 301 "/cfa/2016/06/07/berlin-biennale-2016-last-goodbye-to-the-prematurely-dead-post-internet-label" "/cfa/2016/06/07/berlin-biennale-2016-goodbye-post-internet-label"
Redirect 301 "/cfa/2016/04/01/i-have-doubts-that-the-met-should-be-involved-in-contemporary-art-an-interview-with-richard-feigen" "/cfa/2016/04/01/richard-feigen"
Redirect 301 "/cfa/2017/03/27/are-you-attending-milans-art-week-here-some-locals-you-may-like-to-meet" "/cfa/2017/03/27/motel-lucie"
Redirect 301 "/cfa/2016/01/15/comfortably-unaffected-fashion-an-interview-with-art-collector-giuseppe-iannaccone" "/cfa/2016/01/15/giuseppe-iannaccone-interview"
Redirect 301 "/cfa/2017/12/13/classic-african-oceanic-art-market" "/cfa/2017/12/13/classic-oceanic-african-art-market"
Redirect 301 "/cfa/it/2018/12/06/grazyna-kulczyk-interview-susch-muzeum" "/cfa/it/2018/12/06/grazyna-kulczyk-intervista-con-la-collezionista"
Redirect 301 "/cfa/it/2014/02/20/fortunato-depero-opens-the-new-centre-for-italian-modern-art-in-new-york" "/cfa/2014/02/20/fortunato-depero-opens-the-new-centre-for-italian-modern-art-in-new-york"
Redirect 301 "/cfa/2014/05/23/rachel-whiteread-on-giorgio-morandi-another-british-artists-pays-tribute-to-the-painters-selfishness/rachel-whiteread-study-for-room-museo-morandi-bologna" "/cfa/2014/05/23/rachel-whiteread-on-giorgio-morandi-another-british-artists-pays-tribute-to-the-painters-selfishness"
Redirect 301 "/cfa/it/2019/01/23/masolino-collegiate-castiglione-olona-lombardy" "/cfa/it/2019/01/23/masolino-castiglione-olona-collegiata"
Redirect 301 "/cfa/it/2018/10/24/rediscovering-the-mediterranean-finally-a-show-from-an-european-perspective" "/cfa/it/2018/10/24/pittura-europea-tra-le-due-guerre"
Redirect 301 "/cfa/it/2019/02/14/gian-giacomo-poldi-pezzoli-art-collector" "/cfa/it/2019/02/14/gian-giacomo-poldi-pezzoli-collezionista"
Redirect 301 "/cfa/it/2019/07/05/neo-rauch-interview" "/cfa/it/2019/07/05/neo-rauch-intervista"
Redirect 301 "/cfa/it/2019/09/11/duke-of-devonshire-interview" "/cfa/it/2019/09/11/collezionista-duca-devonshire-intervista"
Redirect 301 "/cfa/it/2019/12/11/michaela-eichwald-dependance" "/cfa/it/2019/12/11/michaela-eichwald-artista"
Redirect 301 "/cfa/it/2019/12/29/james-bradburne-e-brera-intervista" "/cfa/it/2019/12/29/james-bradburne-a-brera-intervista"
Redirect 301 "/sections/online-exhibitions" "/conceptualfinearts/cfa/sections/online-exhibitions"
</IfModule>
# END YOAST REDIRECTS
# START PHP VERSION CHANGE forced by SG Optimizer
AddHandler application/x-httpd-php71 .php .php5 .php4 .php3
# END PHP VERSION CHANGE
# HTTPS forced by SG-Optimizer
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]
</IfModule>
# END HTTPS

# Use live site assets.
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f [NC]
RewriteCond %{HTTP_HOST} ^localhost$
RewriteRule ^(.*\.(js|css|png|jpe?g|gif|ico)) https://www.conceptualfinearts.com/cfa/$1 [L,R=302,NC]
</IfModule>


# BEGIN WordPress
# The directives (lines) between `BEGIN WordPress` and `END WordPress` are
# dynamically generated, and should only be modified via WordPress filters.
# Any changes to the directives between these markers will be overwritten.
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /conceptualfinearts/cfa/
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /conceptualfinearts/cfa/index.php [L]
</IfModule>

# END WordPress


# ----------------------------------------------------------------------
# WordPress security
# ----------------------------------------------------------------------

# protect the htaccess file

#<files .htaccess>
#order allow,deny
#deny from all
#</files>

# protect wpconfig.php

<files wp-config.php>
order allow,deny
deny from all
</files>

# protect xmlrpc.php
<FilesMatch "^(xmlrpc\.php)">
order allow,deny
#Allow from x.x.x.x
deny from all
</FilesMatch>

# ----------------------------------------------------------------------
# 301 redirects
# ----------------------------------------------------------------------

# redirect 301 /this/page http://www.mixd.co.uk/to/here
# RedirectMatch 301 ^/containing.*$ http://www.mixd.co.uk/to/here

# ----------------------------------------------------------------------
# Gzip compression
# ----------------------------------------------------------------------

<IfModule mod_deflate.c>

  # Force deflate for mangled headers developer.yahoo.com/blogs/ydn/posts/2010/12/pushing-beyond-gzipping/
  <IfModule mod_setenvif.c>
    <IfModule mod_headers.c>
      SetEnvIfNoCase ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\s*,?\s*)+|[X~-]{4,13}$ HAVE_Accept-Encoding
      RequestHeader append Accept-Encoding "gzip,deflate" env=HAVE_Accept-Encoding
    </IfModule>
  </IfModule>

  # Compress all output labeled with one of the following MIME-types
  <IfModule mod_filter.c>
    AddOutputFilterByType DEFLATE application/atom+xml \
                                  application/javascript \
                                  application/json \
                                  application/rss+xml \
                                  application/vnd.ms-fontobject \
                                  application/x-font-ttf \
                                  application/xhtml+xml \
                                  application/xml \
                                  font/opentype \
                                  image/svg+xml \
                                  image/x-icon \
                                  text/css \
                                  text/html \
                                  text/plain \
                                  text/x-component \
                                  text/xml
  </IfModule>

</IfModule>

# ----------------------------------------------------------------------
# Expires headers (for better cache control)
# ----------------------------------------------------------------------

# These are pretty far-future expires headers.
# They assume you control versioning with filename-based cache busting
# Additionally, consider that outdated proxies may miscache
#   www.stevesouders.com/blog/2008/08/23/revving-filenames-dont-use-querystring/

# If you don't use filenames to version, lower the CSS and JS to something like
# "access plus 1 week".



# ----------------------------------------------------------------------
# Better website experience for IE users
# ----------------------------------------------------------------------

# Force the latest IE version, in various cases when it may fall back to IE7 mode
#  github.com/rails/rails/commit/123eb25#commitcomment-118920
# Use ChromeFrame if it's installed for a better experience for the poor IE folk

<IfModule mod_headers.c>
  Header set X-UA-Compatible "IE=Edge,chrome=1"
  # mod_headers can't match by content-type, but we don't want to send this header on *everything*...
  <FilesMatch "\.(js|css|gif|png|jpe?g|pdf|xml|oga|ogg|m4a|ogv|mp4|m4v|webm|svg|svgz|eot|ttf|otf|woff|ico|webp|appcache|manifest|htc|crx|oex|xpi|safariextz|vcf)$" >
    Header unset X-UA-Compatible
  </FilesMatch>
</IfModule>

# ----------------------------------------------------------------------
# Webfont access
# ----------------------------------------------------------------------

# Allow access from all domains for webfonts.
# Alternatively you could only whitelist your
# subdomains like "subdomain.example.com".

<IfModule mod_headers.c>
  <FilesMatch "\.(ttf|ttc|otf|eot|woff|font.css)$">
    Header set Access-Control-Allow-Origin "*"
  </FilesMatch>
</IfModule>

# ----------------------------------------------------------------------
# UTF-8 encoding
# ----------------------------------------------------------------------

# Use UTF-8 encoding for anything served text/plain or text/html
AddDefaultCharset utf-8

# Force UTF-8 for a number of file formats
AddCharset utf-8 .atom .css .js .json .rss .vtt .xml

# ----------------------------------------------------------------------
# Proper MIME type for all files
# ----------------------------------------------------------------------

# JavaScript
AddType application/javascript         js jsonp
AddType application/json               json

# Audio
AddType audio/ogg                      oga ogg
AddType audio/mp4                      m4a f4a f4b

# Video
AddType video/ogg                      ogv
AddType video/mp4                      mp4 m4v f4v f4p
AddType video/webm                     webm
AddType video/x-flv                    flv

# SVG
AddType     image/svg+xml              svg svgz
AddEncoding gzip                       svgz

# Webfonts
AddType application/vnd.ms-fontobject  eot
AddType application/x-font-ttf         ttf ttc
AddType font/opentype                  otf
AddType application/x-font-woff        woff

# Assorted types
AddType image/x-icon                        ico
AddType image/webp                          webp
AddType text/cache-manifest                 appcache manifest
AddType text/x-component                    htc
AddType application/xml                     rss atom xml rdf
AddType application/x-chrome-extension      crx
AddType application/x-opera-extension       oex
AddType application/x-xpinstall             xpi
AddType application/octet-stream            safariextz
AddType application/x-web-app-manifest+json webapp
AddType text/x-vcard                        vcf
AddType application/x-shockwave-flash       swf
AddType text/vtt                            vtt

